<script>
    ;"use strict";var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Vue.component("one-stable",{name:"createTable",props:{defaultName:{type:Object,default:function _default(){return{label:"label",prop:"prop",icon:"icon",width:"width",type:"type",tag:"tag",tableColumnAttributes:"tableColumnAttributes"}}},tableData:{type:[Function,Array],required:!0,default:function _default(){return[]}},tableHeader:{type:Array,default:function _default(){return[]}},tableEvents:{type:Function,default:function _default(a){return a}},cellClick:{type:Function,default:function _default(a){return a}},select:{type:Function,default:function _default(a){return a}},selectAll:{type:Function,default:function _default(a){return a}},selectionChange:{type:Function,default:function _default(a){return a}},cellMouseEnter:{type:Function,default:function _default(a){return a}},cellMouseLeave:{type:Function,default:function _default(a){return a}},celldblClick:{type:Function,default:function _default(a){return a}},rowClick:{type:Function,default:function _default(a){return a}},rowContextMenu:{type:Function,default:function _default(a){return a}},rowdblClick:{type:Function,default:function _default(a){return a}},headerClick:{type:Function,default:function _default(a){return a}},headerContextMenu:{type:Function,default:function _default(a){return a}},tableAttributes:{type:Object,default:function _default(){return{stripe:!1,border:!1}}},operationCallback:{type:Function,default:function _default(a){return a}},isPage:{type:Boolean,default:function _default(){return!1}},isHead:{type:Boolean,default:function _default(){return!0}},pageAttributes:{type:Object,default:function _default(){return{pageSizes:[15,50,100,300,500],layout:"total, sizes, prev, pager, next",pageSize:15}}},sizeChange:{type:Function,default:function _default(a){return a}},currentChange:{type:Function,default:function _default(a){return a}},prevClick:{type:Function,default:function _default(a){return a}},nextClick:{type:Function,default:function _default(a){return a}},customColumnCallback:{type:Function,default:function _default(a,b,c){return b.row[c]}}},data:function data(){return{dataList:[]}},created:function created(){},mounted:function mounted(){this.loadData()},methods:{refresh:function refresh(){var a=0<arguments.length&&arguments[0]!==void 0&&arguments[0];a&&(this.pageAttributes.currentPage=1),this.loadData()},loadData:function loadData(){var a=this,b=this.$loading({target:this.$refs.table.$el,lock:!1,text:"\u62FC\u547D\u52A0\u8F7D\u4E2D",spinner:"el-icon-loading"});if(this.tableData&&this.tableData instanceof Array)this.dataList=this.tableData,b.close();else{var c=this.isPage?{page:this.pageAttributes.currentPage||1,limit:this.pageAttributes.pageSize||15}:"",d=this.tableData(c);("object"===("undefined"==typeof d?"undefined":_typeof(d))||"function"==typeof d)&&"function"==typeof d.then&&d.then(function(e){a.pageAttributes.currentPage=e.current_page||1,a.pageAttributes.total=e.total,a.tableLoading=!1,a.dataList=e.data,b.close()})}},grouping:function grouping(a){var b={"default":[]},c=this.defaultName;return a.forEach(function(d){var e=d[c.group];e?(b[e]=b[e]||[],b[e].push(d)):b["default"].push(d)}),b},createTableColumn:function createTableColumn(a,b){var c=this.defaultName;return a("el-table-column",{props:_extends({},b[c.tableColumnAttributes],{prop:b[c.prop],label:b[c.label],headerAlign:b.headerAlign||"center",align:b.align,width:b[c.width]})})},createTableColumnIndex:function createTableColumnIndex(a,b){var c=this.defaultName;return a("el-table-column",{props:_extends({},b[c.tableColumnAttributes],{prop:b[c.prop],label:b[c.label],headerAlign:b.headerAlign||"center",align:b.align,width:b[c.width]||50,type:"index"})})},createTableColumnSelect:function createTableColumnSelect(a,b){var c=this.defaultName;return a("el-table-column",{props:_extends({},b[c.tableColumnAttributes],{width:b[c.width],headerAlign:b.headerAlign||"center",align:b.align,type:"selection"})})},createTableColumnOperation:function createTableColumnOperation(a,b){var c=this.defaultName,d=b[c.tag],e=this;return a("el-table-column",{props:_extends({},b[c.tableColumnAttributes],{prop:b[c.prop],label:b[c.label],headerAlign:b.headerAlign||"center",align:b.align,width:b[c.width]}),scopedSlots:{"default":function _default(f){var g=[];return d.forEach(function(j){g.push(a(j.tagType,{props:_extends({},j.props),attrs:_extends({},j.attrs),nativeOn:{click:function click(k){e.operationCallback(k,f,j.action)}}},j.name))}),g}}})},createTableCustomColumnContent:function createTableCustomColumnContent(a,b){var d=this.defaultName,e=this,f=b[d.prop];return a("el-table-column",{props:_extends({},b[d.tableColumnAttributes],{prop:b[d.prop],label:b[d.label],width:b[d.width],headerAlign:b.headerAlign||"center",align:b.align,type:"custom"}),scopedSlots:{"default":function _default(g){return e.customColumnCallback(a,g,f)}}},[this.$scopedSlots[f]])},createNodes:function createNodes(a,b){var c=this,d=[],e=this.grouping(b),f=this.defaultName;for(var g in e){var j=e[g]||[];j.forEach(function(k){var l=k.hasOwnProperty([f.type])?k[f.type]:"normal";"normal"===l.toLowerCase()?d.push(c.createTableColumn(a,k)):"index"===l.toLowerCase()?d.push(c.createTableColumnIndex(a,k)):"select"===l.toLowerCase()?d.push(c.createTableColumnSelect(a,k)):"operation"===l.toLowerCase()?0<k[f.tag].length&&k[f.tag]!=void 0&&d.push(c.createTableColumnOperation(a,k)):"component"===l.toLowerCase()&&d.push(c.createTableCustomColumnContent(a,k))})}return d}},render:function render(a){var b=this,c=[],d=this;this.isHead&&(c=a("header-menu",{props:{ref:"headerMenu"},attrs:{style:"display:flex;justify-content:space-between;margin-bottom: 10px;"}},[a("div",{},[this.$slots.menuLeft]),a("div",{},["undefined"==typeof this.$slots.menuRight?a("el-button",{props:{size:"mini",icon:"el-icon-refresh-right",circle:!0},attrs:{},on:{click:function click(){window.location.reload(!0)}}}):this.$slots.menuRight])]));var e=a("el-table",{props:_extends({headerCellStyle:"background:#f0f9eb;background: var(--one-diy-color-8);"},this.tableAttributes,{data:this.dataList}),attrs:{"v-loading":!0},nativeOn:{},class:"custom-table",on:_extends({},{"select":function select(f,g){b.select(f,g)},"select-all":function selectAll(f){b.selectAll(f)},"selection-change":function selectionChange(f){b.selectionChange(f)},"cell-mouse-enter":function cellMouseEnter(f,g,j,k){b.cellMouseEnter(f,g,j,k)},"cell-mouse-leave":function cellMouseLeave(f,g,j,k){b.cellMouseLeave(f,g,j,k)},"cell-click":function cellClick(f,g,j,k){b.cellClick(f,g,j,k)},"cell-dblclick":function cellDblclick(f,g,j,k){b.celldblClick(f,g,j,k)},"row-click":function rowClick(f,g,j){b.rowClick(f,g,j)},"row-contextmenu":function rowContextmenu(f,g,j){b.rowContextMenu(f,g,j)},"row-dblclick":function rowDblclick(f,g,j){b.rowdblClick(f,g,j)},"header-click":function headerClick(f,g){b.headerClick(f,g)},"header-contextmenu":function headerContextmenu(f,g){b.headerContextMenu(f,g)}},this.tableEvents),ref:"table"},this.createNodes(a,this.tableHeader));if(this.isPage){var f=this,g=a("div",{class:[]},[a("el-pagination",{props:_extends({layout:"total, sizes, prev, pager, next",pageSizes:[15,50,100,300,500]},this.pageAttributes),style:"margin: 10px 0;float:right",on:{"size-change":function sizeChange(j){f.sizeChange(j),f.pageAttributes.pageSize=j,f.loadData()},"current-change":function currentChange(j){f.currentChange(j),f.pageAttributes.currentPage=j,f.loadData()},"prev-click":function prevClick(j){f.prevClick(j),f.pageAttributes.currentPage=j,f.loadData()},"next-click":function nextClick(j){f.nextClick(j),f.pageAttributes.currentPage=j,f.loadData()}}})]);return a("div",{},[c,e,g])}return a("div",{},[c,e])}});;
</script>